CREATE DATABASE "SolinfBrokerteste" WITH OWNER = postgres ENCODING = 'UTF8' TABLESPACE = pg_default CONNECTION LIMIT = -1 IS_TEMPLATE = False; DROP TABLE IF EXISTS public.cliente_tipo;CREATE TABLE IF NOT EXISTS public.cliente_tipo( codigo integer NOT NULL, tipo bit(1) NOT NULL, dinheiro_disponivel double precision NOT NULL, senha character varying(20) COLLATE pg_catalog."default" NOT NULL, CONSTRAINT cliente_tipo_pkey PRIMARY KEY (codigo))TABLESPACE pg_default;CREATE TABLE IF NOT EXISTS public.cliente_pf( codigo integer NOT NULL, cpf character varying(11) COLLATE pg_catalog."default" NOT NULL, nome character varying(150) COLLATE pg_catalog."default" NOT NULL, nascimento date NOT NULL, CONSTRAINT cliente_pf_pkey PRIMARY KEY (codigo))TABLESPACE pg_default;ALTER TABLE cliente_pf ADD CONSTRAINT cliente_pf_fkey FOREIGN KEY(codigo) REFERENCES cliente_tipo(codigo);ALTER TABLE cliente_pf ADD CONSTRAINT cliente_pf_uq UNIQUE(cpf);CREATE TABLE IF NOT EXISTS public.cliente_pj( codigo integer NOT NULL, cnpj character varying(14) COLLATE pg_catalog."default" NOT NULL, nome_fantasia character varying(150) COLLATE pg_catalog."default" NOT NULL, nome_real character varying(150) COLLATE pg_catalog."default" NOT NULL, CONSTRAINT cliente_pj_pkey PRIMARY KEY (codigo))TABLESPACE pg_default;ALTER TABLE cliente_pj ADD CONSTRAINT cliente_pj_fkey FOREIGN KEY(codigo) REFERENCES cliente_tipo(codigo);ALTER TABLE cliente_pj ADD CONSTRAINT cliente_pj_uq UNIQUE(cnpj);CREATE TABLE IF NOT EXISTS public.ordem( codigo_ordem integer NOT NULL, codigo_cliente integer NOT NULL, tipo_ordem bit(1) NOT NULL, valor_ofertado double precision NOT NULL, quantidade integer NOT NULL, execucao bit(1) NOT NULL, data time without time zone NOT NULL, CONSTRAINT ordem_pkey PRIMARY KEY (codigo_ordem))TABLESPACE pg_default;ALTER TABLE ordem ADD CONSTRAINT ordem_fkey FOREIGN KEY(codigo_cliente) REFERENCES cliente_tipo(codigo);CREATE TABLE IF NOT EXISTS public.cliente_ativos_financeiros( codigo integer NOT NULL, cnpj_ativo character varying(14) COLLATE pg_catalog."default" NOT NULL, nome_real_empresa character varying(150) COLLATE pg_catalog."default" NOT NULL, qtd_acoes integer NOT NULL, valor_negocio double precision NOT NULL, CONSTRAINT cliente_ativos_financeiros_pkey PRIMARY KEY (codigo, cnpj_ativo))TABLESPACE pg_default;ALTER TABLE cliente_ativos_financeiros ADD CONSTRAINT cliente_ativos_financeiros_fkey FOREIGN KEY(codigo) REFERENCES cliente_tipo(codigo);
